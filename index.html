<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>DuitFirst - Simplifying Money, Savings, and Investments in Malaysia</title>
  <meta name="description" content="DuitFirst helps Malaysians take charge of their finances with tips on budgeting, saving, and investments. Simplify your financial journey today!">
  <meta name="keywords" content="personal finance Malaysia, money management tips, budgeting tips Malaysia, saving money ideas, investment tips Malaysia, smart money tips, ringgit savings tips, financial literacy Malaysia">

  <script src="/js/include-head.js"></script>

  <style>
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }

    /* Hide scrollbar for IE, Edge and Firefox */
    .hide-scrollbar {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
    }
  </style>

</head>

<body class="category-page">

  <!-- Header -->
  <div data-include="/includes/body-header.html"></div>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title position-relative">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Home</h1>
        <nav class="breadcrumbs">
          <ol>
            <li class="current">Home</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <div class="container">
      <div class="row">

        <div class="col-lg-8">

          <!-- Blog Posts Section -->
          <section id="blog-posts" class="blog-posts section">

            <div class="container hide-scrollbar" style="overflow-y:scroll; overflow-x:hidden;">

              <!-- <div class="row text-center">
                <p>Scroll Down</p>
                <i class="bi bi-chevron-double-down" style="font-size: 2rem;"></i>
              </div>     -->

              <div class="row gy-4">

                <!-- <div class="col-12">
                  <h3 class="text-center">Latest Posts</h3>
                  <hr>
                  <p class="text-end">Scroll For More <i class="bi bi-chevron-double-right" style="font-size: 1rem;"></i></p>
                </div>

                <div class="row flex-nowrap overflow-x-scroll hide-scrollbar pb-3" id="latest-posts-container">
                </div> -->
                
              
                <div id="credit-cards" class="col-12">
                  <h3 class="text-center">Credit Cards</h3>
                  <hr>
                  <p class="text-end">Scroll For More <i class="bi bi-chevron-double-right" style="font-size: 1rem;"></i></p>
                </div>

                <div class="row flex-nowrap overflow-x-scroll hide-scrollbar pb-3" id="credit-cards-container">
                  <!-- Credit Cards will be dynamically injected here -->
                </div>               

              </div>
            </div>

          </section>

        </div>

        <div class="col-lg-4 sidebar">

          <div class="widgets-container">

            <!-- <div data-include="/includes/recent-posts.html"></div> -->

            <!-- About Section -->
            <section id="about" class="about section pt-0">

              <div class="container">

                <div class="row">

                  <div class="col-12 content" data-aos="fade-left" data-aos-delay="100">
                    <h3>Personal Finance, Simplified</h3>

                    <p class="fs-4">
                      <span class="text-success fw-bold">DuitFirst</span> helps Malaysians make quick, confident money decisions — without the noise.
                    </p>

                    <ul>
                      <li><i class="bi bi-check-circle"></i> <span>Clear breakdowns of cards, savings, and money tools.</span></li>
                      <li><i class="bi bi-check-circle"></i> <span>Only the details that actually matter.</span></li>
                      <li><i class="bi bi-check-circle"></i> <span>Perfect for quick checks and refreshing what you already know.</span></li>
                    </ul>

                    <p class="fs-4">
                      When it comes to managing money, start with what matters — <b class="text-success">Du it First</b>.  
                      Simple enough to remember, practical enough to act on.
                    </p>
                  </div>

                </div>

              </div>
            </section><!-- /About Section -->

          </div>

        </div>

      </div>
    </div>

  </main>

  <!-- Footer -->
  <div data-include="/includes/body-footer.html"></div>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="/js/include-html.js"></script>
  <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/vendor/php-email-form/validate.js"></script>
  <script src="/assets/vendor/aos/aos.js"></script>
  <script src="/assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="/assets/js/main.js"></script>


  <script>
    (function() {
      function escapeHTML(str) {
        return String(str || '')
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;');
      }

      function renderCard(card) {
        const bestForHTML = card.bestFor && card.bestFor.length
          ? '<ul>' + card.bestFor.map(item => '<li>' + escapeHTML(item) + '</li>').join('') + '</ul>'
          : '';

        return `
          <div class="col-lg-6 flex-shrink-0">
            <article class="position-relative h-100">
              <div class="post-img position-relative overflow-hidden">
                <img src="${card.imageUrl}" class="img-fluid" alt="${escapeHTML(card.name)}">
                <span class="post-date">${new Date(card.lastUpdateDate).toLocaleDateString('en-GB', { day:'numeric', month:'short', year:'numeric' })}</span>
              </div>
              <div class="post-content d-flex flex-column">
                <h3 class="post-title">Unlock Amazing Benefits with the ${escapeHTML(card.name)}!</h3>
                ${bestForHTML}
                <hr>
                <a href="${card.localPageUrl}" class="readmore stretched-link">
                  <span>Learn More</span><i class="bi bi-arrow-right"></i>
                </a>
              </div>
            </article>
          </div>
        `;
      }

      function renderSection(containerId, cards) {
        const container = document.getElementById(containerId);
        if (!container) return;

        container.innerHTML = cards.map(renderCard).join('');
      }

      fetch('/data/credit-cards/all-card-data.json')
        .then(res => {
          if (!res.ok) throw new Error('Failed to load JSON');
          return res.json();
        })
        .then(allCards => {
          // Sort by lastUpdateDate descending
          const sortedCards = allCards.slice().sort((a, b) => b.lastUpdateDate - a.lastUpdateDate);

          // Top 5 for Latest Posts
          // const latestPosts = sortedCards.slice(0, 5);
          // renderSection('latest-posts-container', latestPosts);

          // Top 5 for Credit Cards (can be same as latestPosts or different logic)
          const creditCards = sortedCards.slice(0, 5);
          renderSection('credit-cards-container', creditCards);
        })
        .catch(err => {
          console.error(err);
          // document.getElementById('latest-posts-container').innerHTML =
          //   '<p class="text-danger">Unable to load latest posts.</p>';
          document.getElementById('credit-cards-container').innerHTML =
            '<p class="text-danger">Unable to load credit cards.</p>';
        });
    })();
  </script>

</body>

</html>